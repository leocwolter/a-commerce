<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Home</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"/>
</head>

<body>
	<ui:include src="/WEB-INF/partials/_menu.xhtml"/>
	<div class="container-fluid">
	<h:form>
		<label for="name">Nome:</label>
		<h:inputText required type="text" styleClass="form-control"  value="#{book.name}" id="name"/>
		<br/>		
		<label for="categories">Selecione as Categorias:</label>
		<select required styleClass="form-control" multiple  id="categories">
			<c:forEach items="#{categories}" var="category">
				<option value="#{category.id}" #{book.contains(category) ? 'selected' : '' }>#{category.name}</option>
			</c:forEach>
		</select>
		<br/>		
		<label for="publisher">Selecione uma Editora:</label>
		<select required styleClass="form-control"  id="publisher">
			<c:forEach items="#{publishers}" var="publisher">
				<option value="#{publisher.id}" #{book.isPublishedBy(publisher) ? 'selected' : '' }>#{publisher.name}</option>
			</c:forEach>
		</select>
		<br/>		
		<label for="price">Preço:</label>
		<h:inputText required type="text" styleClass="form-control"  value="#{book.price}" id="price"/>
		<br/>	
		<label for="authors">Selecione os Autores:</label>
		<select required styleClass="form-control" multiple  id="authors">
			<c:forEach items="#{authors}" var="author">
				<option value="#{author.id}" #{book.isWrittenBy(author) ? 'selected' : '' }>#{author.name}</option>
			</c:forEach>
		</select>
		<br/>	
		<label for="synopsis">Sinopse:</label>
		<textarea required styleClass="form-control"  id="synopsis">#{book.synopsis}</textarea>
		<br/>	
		<label for="toc">Tabela de conteúdo:</label>
		<textarea required styleClass="form-control"  id="toc">#{book.toc}</textarea>
		<br/>	
		<label for="length">Tamanho(em páginas):</label>
		<h:inputText required type="number" styleClass="form-control"  value="#{book.length}" id="length" min="1"/>
		<br/>	
		<label for="language">Idioma:</label>
		<h:inputText required type="text" styleClass="form-control"  value="#{book.language}" id="language"/>
		<br/>	
		<c:if test="#{not empty book.id}">
			<h:inputText type="hidden" styleClass="form-control"  value="#{book.id}"/>
		</c:if>
		<h:inputText styleClass="btn btn-default" type="submit" value="Cadastrar"/>
	</h:form>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</body>
</html>